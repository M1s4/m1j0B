<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>search tour</title>
    <link rel="stylesheet" href="css/search.css">
</head>
<body onload="addList()">
    

    <div class="main-container-general">
            <aside class="menu">
                    <div class="main-container-aside">
                       <div class="content-image">
                           <img src="images/icons/car.svg" alt="" >
                       </div>
            
                       <div class="content-form">
            
                           <form>
                               <b class="title-form">Filter your search</b>
                               
                              <div class="form-controls">
                                    <select class="element" id="nameCitie" name="select">
                                            <option value="Puerto Vallarta">Puerto Vallarta</option> 
                                            <option value="Botanical Garden" selected>Botanical Garden</option>
                                            <option value="Guadalajara">Guadalajara</option>
                                            <option value="San Sebastian del Oeste">San Sebastian del Oeste</option>

                                    </select>
                                    <input class="element " type="text" placeholder="Pickup Location (address or location name)">
                                    <input class="element " type="date" placeholder="Tour date">
                                    <input class="element adult" type="number" class="input-adult" placeholder="Adults">
                                    <input class="element adult" type="number" class="input-children" placeholder="Childrens (age 0-12)">
                                    <button class="submit-btn"  onclick="filtrar()">FILTER TOURS </button>

                                    
                               </div>
            
                           </form>
                       </div>
            
                       <div class="content-section">
                           <b class="text-section">
                                Passenger information
                           </b>
                       </div>
            
                       <div class="content-section">
                            <b class="text-section">
                                    Customize and Pay       
                            </b>
                        </div>
            
            
                        <div class="content-section">
                                <b class="text-section">
                                        Confirmation
                                </b>
                            </div>
                    </div>
                </aside>
            
                <section class="tours">
                    <div class="main-container-tours">
                            <h3 class="title-content-tours">ALL AVAILABLE TOURS</h3>
                        <div class="content-tours-list"  id="contentTour" >
                               


                                
                                
                        </div>
            

                       
                        
                    </div>  
                </section>

    </div>

    
    <script>
        var contenido = document.querySelector('#contentTour')
         
        function addList() {

               fetch('js/tours.json')
               .then(res => res.json())
               .then(datos =>{
                       tabla(datos)               
               })
            }


       function tabla(datos) {
        
               contenido.innerHTML = ''                 
                   for(let valor of datos){
                       contenido.innerHTML += `
                          
                       <div class="content-tour" >
                                  
                                  <div class="image-tour">
                                     <img src="${valor.ruta}" alt="">
                                 </div>

                                 <div class="data-tour">
                                     <b class="data name"> ${valor.name}</b>
                                     <b class="data includes"> TRIP INCLUDES</b>
                                     <b class="data hours"> ${valor.hours} </b>
                                     <b class="data pickup"> ${valor.pickup}  </b>
                                     <b class="data complimentary">${valor.complimentary}</b>
          
                                 </div>

                                 <div class="content-price">
                                     <b class="price-usd">
                                            $${valor.cost}.00 USD
                                     </b>

                                     <div class="content-btn">
                                          BOOK
                                     </div>

                                 </div>
                              </div>
                       
                       
                       `
                    
                   }
        }



        function filtrar(){
            fetch('js/tours.json')
               .then(res => res.json())
               .then(datos =>{
                var citie = document.getElementById("nameCitie").value;   
                var citie_1="Puerto Vallarta"     
                contenido.innerHTML = ''   
                   for(let valor of datos){
                    
                     
                     if (citie == citie_1) {
                              
                       contenido.innerHTML += `
                          
                          <div class="content-tour" >
                                     
                                     <div class="image-tour">
                                        <img src="images/destination1.png" alt="">
                                    </div>
   
                                    <div class="data-tour">
                                        <b class="data name"> ${valor.name}</b>
                                        <b class="data includes"> TRIP INCLUDES</b>
                                        <b class="data hours"> ${valor.hours} </b>
                                        <b class="data pickup"> ${valor.pickup}  </b>
                                        <b class="data complimentary">${valor.complimentary}</b>
             
                                    </div>
   
                                    <div class="content-price">
                                        <b class="price-usd">
                                               $${valor.cost}.00 USD
                                        </b>
   
                                        <div class="content-btn">
                                             BOOK
                                        </div>
   
                                    </div>
                                 </div>
                          
                          
                          `
                       


                        console.log("entramos al if")
                           }
                           
                     else {
                            console.log("nop entramos al if")
                      
                      }


                   }
                

               })


        }
         </script>
</body>
</html>